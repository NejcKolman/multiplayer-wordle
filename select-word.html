<html>

<head>
    <link rel="stylesheet" href="css/landing.css" />
</head>

<body>
    <input type="text" placeholder="Enter word" autofocus onkeyup="updateNovaBeseda(this.value)" maxlength="5">

    <select id="language" onchange="updateLanguage(this.value)">
        <option value="eng"> ENG </option>
        <option value="slo"> SLO </option>
    </select>

    <a id="link"></a>

    <script>
        let jezik = 'eng'
        let beseda = '_'
        function updateShareLink() {
            if (beseda.length == 5) {
                encoded = btoa(escape(beseda))
                const url = "guess-word.html?beseda=" + encoded + '&language=' + jezik;
                const link = document.getElementById("link");
                link.href = url
                link.innerHTML = url;
            } else {
                link.removeAttribute('href')
                document.getElementById("link").innerHTML = 'Beseda mora biti dolga 5 znakov'
            }
        }
        function updateNovaBeseda(novaBeseda) {
            beseda = novaBeseda
            updateShareLink()
        }
        function updateLanguage(language) {
            jezik = language
            updateShareLink()
        }
    </script>
</body>

</html>