<html>

<head>
    <link rel="stylesheet" href="css/landing.css" />
</head>

<body>
    <input type="text" placeholder="Enter word" autofocus onkeyup="updateShareLink(this.value)" maxlength="5">

    <select id="language" onchange="whatLanguage(this.value)">
        <option value="eng"> ENG </option>
        <option value="slo"> SLO </option>


    </select>

    <a id="link"></a>

    <script>
        jezik = 'eng'
        function whatLanguage(language) {

            let novaBeseda = beseda
            console.log(novaBeseda)
            jezik = language
            if (novaBeseda.length == 5) {
                encoded = btoa(escape(novaBeseda))
                const url = "guess-word.html?beseda=" + encoded + '&language=' + jezik;
                const link = document.getElementById("link");
                link.href = url
                link.innerHTML = url
            }
        }
        var beseda = '_'
        function updateShareLink(novaBeseda) {
            beseda = novaBeseda
            if (novaBeseda.length == 5) {
                encoded = btoa(escape(novaBeseda))
                const url = "guess-word.html?beseda=" + encoded + '&language=' + jezik;
                const link = document.getElementById("link");
                link.href = url
                link.innerHTML = url;
            } else {
                link.removeAttribute('href')
                document.getElementById("link").innerHTML = 'Beseda mora biti dolga 5 znakov'
            }
        }
    </script>
</body>

</html>